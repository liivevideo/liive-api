env:
  global:
    - APP_NAME=shroudd-headland-1758

language: node_js

node_js:
   - "6.2.2"

build:
  ci:
    - npm test

before_script:
  - npm install
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage

script:
  - npm run-script test-shippable

after_script:
  - npm run-script test-coverage
  - npm run-script shippable-cobertura
  - ./node_modules/.bin/istanbul cover ./node_modules/.bin/_mocha -- -u tdd
  - ./node_modules/.bin/istanbul report cobertura --dir  shippable/codecoverage/

notifications:
  email:
    - robb@liivevideo.com